const boat=getClass("boat")[0];boat.style.width=window.innerHeight/3+"px";function sortLabels(){for(let c=0;c<2*settings.boat.seats;c++){var a=getClass("label")[c],d=getClass("part")[Math.floor(c/2)].getBoundingClientRect();d.x&&(a.style.top="unset",a.style.left="unset",a.style.right="unset",a.style.top=d.top+"px",1==c%2?a.style.left=d.left+window.innerHeight/3+"px":a.style.right=d.right+"px")}}window.addEventListener("resize",()=>{boat.style.width=window.innerHeight/3+"px";sortLabels()});
function tempBoat(a){if("return"==a){for(a=0;a<boatPos.length;a++)getClass("label")[a].getTag("b")[0].innerText="SPACE"==boatPos[a]?"SPACE":`${boatPos[a].n} (${boatPos[a].w}kg)`;get("left-total").innerText=optimal.closest.totals[0];get("left-percent").innerText=optimal.closest.leftPercent.toString().substring(0,5);get("right-total").innerText=optimal.closest.totals[1];get("right-percent").innerText=optimal.closest.rightPercent.toString().substring(0,5);0<optimal.closest.balance?(a=(optimal.closest.leftPercent-
optimal.closest.rightPercent).toString().substring(0,4),get("right-offset").innerText="",get("left-offset").innerHTML="+"+a+"%<br>+"+optimal.closest.diff+"kg"):(a=(optimal.closest.rightPercent-optimal.closest.leftPercent).toString().substring(0,4),get("left-offset").innerText="",get("right-offset").innerHTML="+"+a+"%<br>+"+optimal.closest.diff+"kg")}else if("number"==typeof a&&optimal.alternatives[a]){b=optimal.alternatives[a];for(a=0;a<2*parseInt(settings.boat.seats,10);a++)getClass("label")[a].getTag("b")[0].innerText=
"SPACE";for(a=0;a<b.left.length;a++)getClass("label")[2*a].getTag("b")[0].innerText=b.left[a].n+" ("+b.left[a].w+"kg)";for(a=0;a<b.right.length;a++)getClass("label")[2*a+1].getTag("b")[0].innerText=b.right[a].n+" ("+b.right[a].w+"kg)";get("left-total").innerText=b.totals[0];get("left-percent").innerText=b.leftPercent.toString().substring(0,5);get("right-total").innerText=b.totals[1];get("right-percent").innerText=b.rightPercent.toString().substring(0,5);0<b.balance?(a=(b.leftPercent-b.rightPercent).toString().substring(0,
4),get("right-offset").innerText="",get("left-offset").innerHTML="+"+a+"%<br>+"+b.diff+"kg"):(a=(b.rightPercent-b.leftPercent).toString().substring(0,4),get("left-offset").innerText="",get("right-offset").innerHTML="+"+a+"%<br>+"+b.diff+"kg")}}function swap(a){confirm("Change to this boat position?",`(function(res) {
        if (res == 1) {
            var prevAlt = optimal.alternatives[${a}];
            optimal.alternatives.splice(${a}, 1);
            optimal.alternatives.push(optimal.closest);
            optimal.closest = prevAlt;
            for (let i = 0; i < optimal.closest.left.length; i++) {
                boatPos[i * 2] = optimal.closest.left[i];
                boatPos[i * 2 + 1] = optimal.closest.right[i];
            }
            get('alt-div').innerText = '';
            for (let i = 0; i < optimal.alternatives.length; i++) {
                get('alt-div').innerHTML += \`<div onmouseover="tempBoat(\${i})" onmouseout="tempBoat('return')" onclick="swap(\${i})">\${i + 1}</div>\`;
            }
        }
    })(\${c})`)};
